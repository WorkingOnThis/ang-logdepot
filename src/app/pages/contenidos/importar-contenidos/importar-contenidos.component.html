<div class="row animated fadeIn">

    <div class="col-lg-12">
        <div class="card">
            <div class="card-body shadowgral">
                <div class="row">

                    <div class="col-12 mt-2 mb-1">

                        <input #upfile type="file" style="display: inline-block; margin-top: 2px;" (change)="incomingfile($event)" placeholder="Upload file" accept=".xlsx">
                        
                        <button  mat-flat-button color="primary" class="btn btn-info pull-right" (click)="Upload()"
                         [disabled]="uploadfile.nativeElement.files.length == 0 || !flagSelectEmp">Importar</button>                        

                    </div>

                    <div class="col-12">

                        <mat-form-field class="ml-2 mr-2 pb-0" style="width: 225px">
                            <mat-label>Empresa</mat-label>
                            <mat-select [formControl]="empresa_fc" (selectionChange)="empresaSelect( $event.value )">
                                <mat-option *ngFor="let empresa of empresas" [value]="empresa._id">{{ empresa.nombre }}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <button mat-flat-button color="warn" class="pull-right" style="margin-top: 11px" [matMenuTriggerFor]="menu">
                            Acciones
                        </button>

                        <mat-menu #menu="matMenu">
                                <button mat-menu-item (click)="Subir()" [disabled]="rowData.length == 0 || errores.length != 0">
                                    <mat-icon>note_add</mat-icon>
                                    <span>Subir</span>
                                </button>
                        
                                <button mat-menu-item (click)="openDialogErrors()">
                                    <mat-icon>exposure</mat-icon>
                                    <span>Ver errores&nbsp;</span>
                                </button>

                                <button mat-menu-item (click)="Clear()">
                                    <mat-icon>block</mat-icon>
                                    <span>Limpiar tabla</span>
                                </button>
                        </mat-menu>
                        <!-- <button  mat-flat-button color="warn" class="btn btn-info pull-right" style="margin-top: 10px" (click)="Clear()" >Limpiar tabla</button>                         -->

                    </div>

                    <ag-grid-angular style="width: 100%; height: 518px;" rowSelection='single' class="ag-theme-balham mr-3 ml-3" [enableCellTextSelection]="true" [gridOptions]="gridOptions" [localeText]="localeText" [pagination]="true" [paginationPageSize]="paginationPageSize"
                        [quickFilterText]="codigo" (gridReady)="onGridready( $event )" [floatingFilter]="true" [rowData]="rowData" [columnDefs]="columnDefs">
                    </ag-grid-angular>

                </div>

            </div>
        </div>
    </div>
</div>